{"version":3,"sources":["Modal.module.css","Modal.js","App.js","index.js","App.module.css"],"names":["module","exports","BackDrop","props","onClick","onclick","className","classes","backdrop","ModalOverlay","modal","content","children","portalElement","document","getElementById","Modal","ReactDom","createPortal","Comp","id","data","compmain","iconholder","remove","cross","add","plus","p","initialSchema","createSchema","nodes","links","App","useState","show","setshow","setmodal","parent","setparent","useSchema","schema","onChange","addNode","deleteNodeFromSchema","removeNode","holder","a","length","output","splice","push","input","b","c","d","addNewNode","nextNode","coordinates","render","showmodal","Math","random","readonly","choose","category","dia","ReactDOM"],"mappings":"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","file":"static/js/main.73edfac3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3Nkn3\",\"modal\":\"Modal_modal__3xz8c\",\"slide-down\":\"Modal_slide-down__3JyUX\"};","import { Fragment } from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport classes from \"./Modal.module.css\";\r\n\r\nconst BackDrop = (props) => {\r\n  return <div onClick={props.onclick} className={classes.backdrop}></div>;\r\n};\r\nconst ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\nconst portalElement = document.getElementById(\"modal\");\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <Fragment>\r\n      {ReactDom.createPortal(\r\n        <BackDrop onclick={props.onclick} />,\r\n        portalElement\r\n      )}\r\n      {ReactDom.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\nexport default Modal;\r\n","import React, { Fragment, useState } from \"react\";\nimport \"beautiful-react-diagrams/styles.css\";\nimport Diagram, { createSchema, useSchema } from \"beautiful-react-diagrams\";\nimport classes from \"./App.module.css\";\nimport { AiOutlinePlusCircle } from \"react-icons/ai\";\nimport { AiOutlineMinusCircle } from \"react-icons/ai\";\nimport Modal from \"./Modal\";\n\nconst Comp = ({ id, content, data }) => (\n  <div className={classes.compmain}>\n    <div className={classes.iconholder}>\n      <AiOutlineMinusCircle\n        onClick={() => data.remove(id)}\n        className={classes.cross}\n      />\n      <AiOutlinePlusCircle\n        onClick={() => data.add(id)}\n        className={classes.plus}\n      />\n    </div>\n\n    <p className={classes.p}>{content}</p>\n  </div>\n);\n\nconst initialSchema = createSchema({\n  nodes: [],\n  links: [],\n});\n\nexport default function App() {\n  const [show, setshow] = useState(false);\n  const [modal, setmodal] = useState(false);\n  const [parent, setparent] = useState(\"\");\n  // const [small, setsmall] = useState(false);\n  // const [meduim, setmeduim] = useState(false);\n  // const [large, setlarge] = useState(false);\n  // const [xlarge, setxlarge] = useState(false);\n  const [schema, { onChange, addNode, removeNode }] = useSchema(initialSchema);\n\n  // console.log(schema);\n  const deleteNodeFromSchema = (id) => {\n    let holder = [];\n    for (let a = 0; a < schema.nodes.length; a++) {\n      // console.log(\"d\");\n      if (schema.links[a] && schema.links[a].output === id) {\n        schema.links.splice(a, 1);\n        holder.push(id);\n        a = -1;\n      }\n      if (schema.links[a] && schema.links[a].input === id) {\n        holder.push(schema.links[a].output);\n        schema.links.splice(a, 1);\n        a = -1;\n      }\n      for (let b = 0; b < schema.nodes.length; b++) {\n        if (\n          schema.links[b] &&\n          holder[a] &&\n          schema.links[b].input === holder[a]\n        ) {\n          holder.push(schema.links[b].output);\n          schema.links.splice(b, 1);\n          b = -1;\n          a = -1;\n        }\n      }\n    }\n\n    for (let c = 0; c < schema.nodes.length; c++) {\n      for (let d = 0; d < schema.nodes.length; d++) {\n        if (schema.nodes[d] && holder[c] && schema.nodes[d].id === holder[c]) {\n          schema.nodes.splice(d, 1);\n          holder.splice(c, 1);\n          d = -1;\n          c = -1;\n        }\n      }\n    }\n    if (id === \"node-1\") {\n      setshow(false);\n      schema.nodes.splice(0, 1);\n    }\n  };\n\n  const addNewNode = (content, id) => {\n    setshow(true);\n    let nextNode = {};\n    if (schema.nodes.length < 1) {\n      nextNode = {\n        id: id,\n        content: content,\n        coordinates: [250, 160],\n        render: Comp,\n        data: { remove: deleteNodeFromSchema, add: showmodal },\n      };\n    } else {\n      nextNode = {\n        id: `node-${Math.random()}`,\n        content: content,\n        coordinates: [250, 160],\n        render: Comp,\n        data: { remove: deleteNodeFromSchema, add: showmodal },\n      };\n    }\n\n    if (schema.nodes.length > 0) {\n      schema.links.push({\n        input: id,\n        output: nextNode.id,\n        readonly: true,\n      });\n    }\n\n    addNode(nextNode);\n  };\n\n  const showmodal = (id) => {\n    setmodal(true);\n    setparent(id);\n  };\n  const choose = (content) => {\n    setmodal(false);\n    addNewNode(content, parent);\n  };\n\n  return (\n    <Fragment>\n      {modal && (\n        <Modal>\n          <p className={classes.category} onClick={() => choose(\"Alpha\")}>\n            Alpha\n          </p>\n          <p className={classes.category} onClick={() => choose(\"Beta\")}>\n            {\" \"}\n            Beta\n          </p>\n          <p className={classes.category} onClick={() => choose(\"Sigma\")}>\n            Sigma\n          </p>\n        </Modal>\n      )}\n      <div className={classes.dia}>\n        {!show && (\n          <button onClick={() => addNewNode(\"Master\", \"node-1\")}>\n            Add new node\n          </button>\n        )}\n\n        {show && <Diagram schema={schema} onChange={onChange} />}\n      </div>\n    </Fragment>\n  );\n}\n","import ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n\n\nReactDOM.render(\n\n    <App />\n ,\n\n  document.getElementById(\"diagram\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"compmain\":\"App_compmain__33Rm7\",\"iconholder\":\"App_iconholder__3N8Oc\",\"p\":\"App_p__3paNp\",\"plus\":\"App_plus__zCzrT\",\"cross\":\"App_cross__2cGfv\",\"dia\":\"App_dia__bIcWs\",\"category\":\"App_category__2rPI7\"};"],"sourceRoot":""}